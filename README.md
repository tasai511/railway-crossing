# クローン踏切
![image](https://user-images.githubusercontent.com/20789521/154719517-2defe2be-2f97-45d5-b98e-fce1878623ae.png)

- プラレールで遊べるサイズの遮断機です。
- 単四乾電池4本で動きます。
- 西武新宿線の時刻表がプログラムされており、実在する踏切と同じ時刻、同じタイミングで作動します。
- 土日ダイヤにも対応しています。（祝日には非対応）
- 進行方向指示器もその時刻の実際の電車の向きを指します。
- 電車本数が多い朝夕の「開かず状態」も再現されます。
- 遮断機の開閉にかかる時間、警報灯の明滅と警報音の間隔、上り電車と下り電車の遮断時間の違いなども可能な限り本物に近づけました。

このように、実在する踏み切りのクローンを家の中に出現させるオモチャとなっています。

## サンプルコードの使い方メモ
1. クローンしたい踏切を決める。（駅に近いほど良いかと）
2. その踏切の最寄駅の時刻表を探す。
3. 時刻表をコード内に手打ちする。（苦行）
4. 実際に踏切に通って以下のデータを集める。（さらに苦行）
  * 警報音の音色
  * 警報灯の明滅、警報音の間隔
  * 警報音が鳴ってから遮断器が動き始めるまでの時間
  * 遮断器が動き始めてから降りきるまでの時間
  * 時刻表の発車時刻と実際の通過時間の時差
  * 遮断器が降りている時間
5. そのデータをコード内に入力する。

## 材料メモ（例）
- Xeeeduino XIAO
  * 消費電力が小さいしサイズも丁度いい。
  * 注：PWMの仕様が違うのでArudinoとは互換性ありません。
- LC型ハンドタイププラスチックケース LC135-F4-D
  * タカチのケース。電池ボックス付き。土台。
  * https://eleshop.jp/shop/g/gH1P31L/
- SW型プラスチックケース(ブラック) SW-15B
  * タカチのケース。2個つなげて方向指示器の箱に。
  * https://eleshop.jp/shop/g/gE2A122/
- タカチ電機工業 SW型プラスチックケース SW-40B
  * 遮断器のサーボを収めるケース。
  * https://www.amazon.co.jp/dp/B07BD5HXFV/ref=cm_sw_em_r_mt_dp_ZT0CXXT9DA851RAFAJHH?_encoding=UTF8&psc=1
- MG90S
  * 遮断器を動かすサーボ。何でも良いかと。
- 圧電ブザー
  * PWMで叩いて警報音を作る。
  * https://eleshop.jp/shop/g/gG28412/
  * 警報音は
  http://benkyo-chu.blogspot.com/2014/02/2arduinopwm_9.html
  を参考にさせて頂きました。
- タミヤ 楽しい工作シリーズ クラフト No.221 プラ材8mmパイプ (3本入)
  * 支柱と遮断棒と柵に。
  * https://www.amazon.co.jp/gp/product/B016A4D8RQ/ref=ppx_yo_dt_b_asin_title_o06_s01?ie=UTF8&psc=1
  * 支柱の中に警報灯と方向指示器の配線を通す。
- タミヤ 楽しい工作シリーズ クラフト No.219 プラ材3mmパイプ (6本入)
  * 警報灯を吊るす管に。中にLEDの配線を通す。
  * https://www.amazon.co.jp/gp/product/B016A4D3FS/ref=ppx_yo_dt_b_asin_title_o06_s01?ie=UTF8&psc=1
- モリギン 端末保護キャップ 6mm 透明 W26
  * 警報灯のカバー。（透明な部分）
  * https://www.amazon.co.jp/gp/product/B0091G9SHK/ref=ppx_yo_dt_b_asin_title_o00_s00?ie=UTF8&psc=1
  * 半分くらいに切るとちょうど良い大きさ。
- 太めのリード線
  * 方向指示器のLED配線用。
  * 支柱の中を通して、途中にあけた穴から出す。
  * 方向指示器箱を支える役目もあるので太めを利用。
- 極細リード線 直径0.4mm
  * 太めのリード線を通すと支柱内にスペースが無くなるので、警報灯LEDは極細で配線。
  * https://www.amazon.co.jp/gp/product/B07KY2VSB8/ref=ppx_yo_dt_b_asin_title_o01_s00?ie=UTF8&psc=1
- ゴムブッシュ(グロメット)
  * 支柱や柵を土台に固定するのに利用。
  * https://eleshop.jp/shop/g/g66412B/
- その他
  * 黒＆黄色のカッティングシート（装飾用）
  * 透明プラパン（方向指示器のカバーとか）
  * 白色プラパン（柵）
  * 黒色プラパン（方向指示器と警報灯の屋根）
  * 大きめの赤色LED x 2（警報灯用）
  * 小さめの赤色LED x 2（方向指示器用）
  * スライドスイッチ（電源スイッチ）
  * ユニバーサル基板
  * 単4乾電池 x 4
  
  
